This example sets up TIM4 as a PWM. The output of this PWM is then connected to the pin that has the 
Blue Pill's on-board LED connected. (This pin is set as an input for safety). The code then cycles
the PWM's duty cycle periodically which varies the brightness of the LED.

Schematic provided.